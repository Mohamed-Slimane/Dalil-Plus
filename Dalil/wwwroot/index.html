<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" type="image/png" href="assets/images/favicon.png">
    <title>Dalil+</title>
    <link rel="stylesheet" href="assets/bootstrap/css/bootstrap.rtl.min.css">
    <link rel="stylesheet" href="assets/bootstrap/font/bootstrap-icons.min.css">
    <script src="assets/jquery/jquery.min.js"></script>
    <style>
        @font-face {
        font-family: 'Tajawal';
        src: url('assets/fonts/Tajawal/Tajawal-Regular.ttf');
        }
        body{
            font-family: 'Tajawal', sans-serif;
        }

        div[data-tab="start"] .input-group-text{
            width: 95px;
        }

        .boxed-image{
        aspect-ratio: 1/1;
        object-fit: cover;
        }

        .pointer{
        cursor: pointer;
        }

        ::-webkit-scrollbar {
        width: 10px;
        }
        ::-webkit-scrollbar-track {
        background: #f1f1f1;
        }
        ::-webkit-scrollbar-thumb {
        background: #888;
        }
        ::-webkit-scrollbar-thumb:hover {
        background: #555;
        }
    </style>
</head>
<body class="bg-light">
    <div class="row g-0">
        <div class="col-auto text-center">
            <div class="text-bg-dark p-3 text-center sticky-top overflow-auto vh-100 mw-25" style="min-width: 200px;">
                <label class="logo mb-1 pointer">
                    <input type="file" accept="image/*" id="logo-choiser" style="display: none;">
                    <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAXUAAABgCAMAAADVTxJmAAAAAXNSR0IB2cksfwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAv1QTFRFAAAA////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////htTccAAAAP90Uk5TAAwVHygxOj00KyIZDw4WHiYuNj4wJRsQDSkyOzMqIRgTRnep2v7/7LqJWAFFcZzF8/LUtZd5WjdKe6ze57aFU0F8lqq8r5uDUBdlreT1wwlE8cFJHWmw6r8t98JfAs7on1V/0IIFi+KYTgvpUQdr4fgcGoft0yB29HSNc/qjzWh+9pGAeOulI03LjJpL4MT7ilZtz6fWOBT9qLk5Zu8EcvCIkK4I3dHA1dI8LNvldfw1TFex+XBCYSdvjthuuAOSzGPuelJIpJWy308Sj1leJGJslIZcmatHveYRxmCiVMm0BoTjnUB9ygo/gbfIZEOe2S++W2pds8dnoKGm17vc39Lq0wAAEVdJREFUeJy9XXlgTFcXf88SJCNUKlJLpFVSTbSltmjVUi1iGZSgSexpJMQydq2lsaSqqK1BiVg/EVVrglqrat8FxadUpUqpfflazTdLZua9mXt/9773bv3+YOaeu7ycee+8c892ZelZQ1bg/r+/XHHHSvf8rf/8Lnz2oIcPAmX5j9LWyW/d4x8mC78QOkIcDFAtb0VuuZx/Y7XAQNvkD1Vtfo4r2C9g+oovWCe6oV7R2nLwIaW/CgoeNHTegZvzBFyVB5pb5z1HoYXK9/Y+FrmYWb5VsiD6KcMfmLZouDU90d76xxyl0PxCD9T5D2sCJ9c/uFv6kKuxlrxU/yV5I3Z7pZC9jIcqQpYzxcibAPPtUzz96strb7B7eSHufJVDrAttZP1VvkIdHMzwCS6gbn5PnqXjiohIkuVsro6RJ16fZnQxiyyv4+9t/qH+59rmTyx+/zuuju1uzf+HTrVzfcQ33oT2E7VdDwXm8F3XuTtHrbv9i5HFCg/P0Dqkk/wpf2fT4Pv8v2m0POkBjWbjeswBEiV2FP/l0GCuJS/SNqKbPELvYp+dPKhnWM9jTDHsgGn0cq5XpRtxkyl3nJXrhYetJFHy4gdrW8MbL/adq3lMzZ/Dv9azVrEJc/QMsyJB3rGWo9v0TP6H1gm/7nOJL3Ur12fOJA+J+GeJ5mWU8J84Q9e4/nKi5jGp94tP1bWYHYPimV0GVv1C19TkJ0mWvp5MG9Gnv66FHAgbKE/SOTSvwulrmgakybKxt9DNm5geG/x0tc6pE0qt9n6SZGnxeNqAUbE6V7Ji6TQD+rA0ps9tDb0DBy0wsJYNYz+E5OLzxhiYPLmfl2iSpQzqW7O1vofKBv82+3SPtWGkbxR3X59+GpRFCiZ0AMT2nUYamjxi3Z8eLXKZEvTuNzx786JQhm5NJB9Rq09z9lwtDzO4loQVtjXDjO7VQ3uZ1Q1ykYr03l+01rdKm0saVSwSXtzM08vca5Dxpaxa4REqqfsHFsPTWyq0UH2XE7bRO3fWsINQIOuJgLtPkgqeYfdZOvmRiKWkvPM0Svc9QhboMEH5TSZvkRwooWvbkXlY7/veA9Obs3qk/a3/1aMGzTK38mqqkPnzyu5SfJNnAINL4gAd81tu7tUxioRJoxhmrNj//iFoKRrXN42g7uo1InKOwqwqb06i95z1vvbZg5b00T6IgnZz8ev8NWH2Yd9jxObmvYxqBW50veO2tAnnehT5+vUh/nu0V9+qfQ9LQ+q7pNawQmLeGg4khTV2fhTN9dpatjdszG1EpxXLNK5cOBFAlIobBwpbwIZyO5yfBHO9gFmsNy5vAnW3tHRsARpJO4gmgZSThwit+pEw9Ur+J8Fc35ag84pooMuY9y+JWyV5HOFmie35kbgV7HDJGLFc3xWn+4pooMmYvlsELkK81V8qJHAFB5wyRijXTZVF6VkK3M8ltQat7CVuied/JDQGlhS3gAttHHqMUK7v7snRKeJoSolOuf+8sOrMgae7OfqTLZ9cSzkQmJicdn/K2KwWM/uRjaid5pEMy3RbrAKNzrepG5k9Puby/mH7p3P0b+xwvYjkurkoLVzBhYio3lcUX0O++fQsc9pHV7zbzGd5LFKhvywoMFnlVRi4slurHA+7/+wLpJdRSD3mqzR+38jqiq8V1/7Ednq2tDtfRHL9ODKX2mCp97oXs7IHsPjXjWBn/TiTfTlLTlKEUNGyExT28uUtiCFhvb5nTB/V8XiMR1NszHCWiF1e0/avSK73Z0RgpEST9pIhK7ow5u3uvUHsyrQ69G8QDqhy0ynxdl9DjbXkjZC8i/HeSC7ZjNBaMYJuvLSjZn3bgyWQ60c6YXr80KfE9rS6bfDAoic8W5hPFWXbo0LKuVZVG9A80KRgFSVMcWQdeWlNhnX8m2qSUK5HYwtl/CTaX7g9CLN96teeOvsQhlN//TajxoL92HtpWlGFQmGxXS6UI5LrIT6Q3G4y+U63oxN+LtPeVn/3LY8vZWMejSe8KBkIyRG7LlFpS3dgzezBVZFcvxAJyc1QmEZwuyw0NruS+vvq4XAp+SW+ED+AYd9C8qaXALF8MRjT2WuoSK4vGYeom1tCA02tO4galtRY9f18C0pHO/LK7URkLkyFIU1bQuBgrOkvqSOQ65fTlwHq1HLVAdUq2rOhpP5S9Rwd/BDeTFuD4VI8CCmMVhjZ7y4cbZ5FtBs7MaGDOK6vHYKo2xmSWJo+G1HVxpgxMDAxokEPxlpsHINxIXY1BAH55+zGGGFcrwpelpK0oxxjeBxMcqivCjOaBSP5dpZlLMWBbiTDjAsX/2YMP5eD3PUFzorj+iXUN2U00+wODbdTM5QhlytGg66R0bVYS7HxWwNA7JTMHL8PbfzWh4rj+hQUvttqCnN8QACiKm+vuDdRIClTlvFgA/JSTYPvcjtwOMeyWqK4nrgVUZkCxopWPwHiWwvdn58vhaZZ+BZ7KRbwfuDeb8wJrr2DqLvLiOJ6HejNr8oRIN4aWR9/UOxasOXhrrZwYCI+SwPE6AscAeYvI+9isxmiuA69SGOiOWZIRhlolTe6P3+0E3QEoXP8gLuHjZU5ZpiLRKr/IVFcH4duAKKvxhPwFu6pUApuIBnybRix+eqJz+/N+tmrOSIz+q1H3g9H41/BCosiANEJuHsuflgU1w+hCHAOA6AkZX4MiBPbuz/XQImHtUlPzPNn64Ehb6x94rlaOui+F77283GrLiD2toji+p91AHE1MnU7EeQPiF0VPwnUli79z6vpWpdLjKXdgSr5k6C/24cnm/VoR0A0HRHF9RbUoFgrXtrEMwWyE1p6uz8PRkkCV7ydFBwhHB5shy/2ITxxEBWLAOK2CqK43gQlir66hmcKqDo2cecqQytuSy9d/ot5HGuPV5kA6OkrVrzJkygpo1eu7zFRXJ+EUoMGcPkY+qCs5dsul0gsrL3QxDOTvEAHpgtdsola5TfoinzMlYgMb406orh+uzYgwqwfF5ahHAW35EApPYSIaGwqc0G19VmAsgcvgEx1N4ajGP5lz4TrByGjnFiFcq7cPxyMDurqpQid/IBnbbVmArl+lSvSqjrqdeGZSBhWOqcDE1Dy+++ujUsqKvEQut6zBWqBbux/TvEFShimxdEGLAaFSZi7NQFxshkQXZiDjFq5biUdikwvCQMvzI11ryi+wB3BH7c4pjuIduORX4riOkwWOFycYwZsMarj3vvCX6eS520K9+ZuqPb50EPIpa8HFwXE6hmiuD4K1Qg5YuKYwbIBEP0UigiURDM8Y4N6/MCxtofRfB7KMYOeaicKvwiIE9uL4vreroDIk8Mo+YQA4rYK7s9Q1/FSUrFr0AUV10+j+Bx1DiMFMM57XkNRXF+ErmUwT/h9P7SBTVaYxmg1Puw46ufR0Pkwx9oeXIfmjY4wFiIfMErykL8ort+vAYhcBQngxr2MIrLn4Rugo5dFMKwnV90YFdehAdVMrTGiAHTh1UsXxfWVnyAqj467Ez0QHysEGHys6i72bCk4hCfpWMX1H1CUgaU5qAHgxBUUm1Hk5LPx4FVjxGpaEVuRWJEpHyUVGeDQEG/xDqyZz1NRTcV1aDGUHiLruwMmGKewr5QwbzUMx4xBXn0Hwr1NtAooTYnlfVHP3WW8mj7wY5dNUTv+4X6ew1twqh2i3vldGNfXo9oVw/Yxa3nBPWTUZYWkNUONaNVrhMbu1ZYwZNy8hspvj14HXUuz6zlAC6zIyIym3v4xBd5nlYdM9EHxpUmqi4SqY3QkOR7G8snY0vYPd4jmeTXXc9qCFexRuRB+ZVHAXuq74riOJcSUVozhj0m3qAvLVdt6qMQwBQDZfa+WMPfeRDOEsJIuxy5H1C6fiOP69mnIKZH3mJDSpUBcQ1iKRi2scSB1hD/S5/m4blqCQuYiF8IIZCkoCRaxvPi3wEjqSgURNRyrbzhevHW2KmBvKHZNMQLNeLjOSGNgxDyMXIWozaeLjF/HT6VUCNXxSs1CD4p1W6H+Dj1sUt5+GBzGxfVqnmEDakDTte8yWArKtvUQx3X8VErrSwTRiU9wbPJSD5fJ9bfJ/fLRdd5lQOXiOrQZSlJyYGM6ESowDkuRwGwwhiV7z0Pqnu5YB5gGEN3NY+QdRthu79HAQE7mulqHYZjYJSk9lWo0GO+1O1bBLi2fYeYjle0MphMyHxkZclLz63RvKde9zsx8pLKdwXQpyGYXE8j1tF0MnW3PeqJ9g8X0vBtelX6Y5Swif6QWkePjetALjG0Vhe0spk9tbXN2i8ytZvLClO29XR/4CsvZ84a3gUaez6wB/GkJSk4gH9cZiogV82K87TGlg1l1ch1xmLDGXQX0w1V76qm1mvoyrXtTEtV6+7kMdlgyKZqmEWt7aMXxGJKUKH2EaA70lOs8hUo6TvE4K2UDu7Z1hj0rTjZSsmx2g/eUVQq5inuYNixylgUwbfzpAbtaYm9S3gRfJZrW7UeUWOssDuF/JfWb6ZtWULp6cV36ixwdrB6VPcd566We+fV9djHy/IhwQ1y3wlxFEfZXsBK9oxLvbY470WopY+PkRA/iThSbfZSoGdZkVfK1JFqZzHx4cx26PhXTF455uX/TJoPhhsOFfCsxlDBcKHLS/ZkpDLXjFXIsqdyCwUaNIKR4QQe8Pqx51fE/fJvyQREnbY41VjPbG9HJlIxKGCGuHQSum7ryHRfDj9Yd8zcaRiWMDRnuvOlSAYIPG1M+SWpM1nX8Bg2kdEauaGAtcMUFCbjXVV5zmLOhHaD8gFgZQ0wi5YzW40Wwy8sp4l6XXnOLc/M72o+NoQOWHxAqY4hcP5guUsb45rqiwUXc69LLCj9Q58cCq5fisvvYeaAN5ITpr4LFFaW1pLu9t8Z1GCv69VV8CUhAzn5NeBvlfUosR5smUFSlvpuFvaeGKgqJydlGjufJh7q4wjrDp1vlg3mMUWyUkOMdbMgpTG5nWcG4oaplLze7aHxGjyxeDRUuEcIDmFrK5SR2OUg+fEyL0xT0PI36TCl4ZVw1gQ8pHvkQQq709HMcJy5dyxFUjvl1WoHI2NNGDn5y4vh1lZVbZhRJ40J/j+MFwuLg6Z5cKHbnEk+32MpijmLNoCpLl692Mzz7mULqUqGyNJunvixGLa/iU/d2GXz5p5/lrWgU2drACXhO1KBZxWyolmzwTJz2VzwsqzJOmucDIXl/zXdGVF3L5RT+zmc6Gz+dCauobWQj2nBCL69UFVkqy5NIgVGS4LhJ/TNd93zjumo6piTYlysZESCCcQrrwP46ThjJB+nUR5np02Yj9CCxJoue001tiC5YD3jgiTicZmgTWTPzL1aXi3+xotfICKuwjfCcWLl+dDSfbZiK8tvJ7eZ2t3Qc8XQoSIfAONf3Z/3bmUmBHPWTTLWv6Fih8k6i98U20+HO2qdTINqHeqhQ5w+1bmNKb+LJ1yMgoAHXyewEmBfw5DJKkk9LrSsc2EVJ+bT/fsZOqCm7ExAr7FyowUDQs0Mr/e+tzou26FCcQl9tyi3PCtfqokFfCs+lhs07npqi11BCOkSVSIbR0tJsKKfISH2CS/0yUaDHixoPJz+7/21Yh9ITvq9W4TvNx+IXBzQCp6y6cFPfwb3t27LLJybmpJxjnXBsyWo7AEfKciFtcWR13hPhAiMjF6HseDKKV01fzHL4JvR7NBo+FO43RKlKWZ9f13BwYPSWgLLmjrhirQtxWwOW0ZWAqXXWWjgn4oBv5iCWJjn/akDgJL5iGgQklTu7l34sRejjNVdZhcgFO9wQBo4a2zahaZZqxZEt/ffL78UIdcbZUPKV8SXjtxHEpnwsN3dPiuGnKuzsqasTv8pRqxFyfNTMu+Zcjk31M+R6PpqfmhLikxG59ZcOXf66a/RsYgZMiWnh4b2O7nYEWWQ9lYWYshTwS4+J65BVPKhxEdPYYSBo2QP/B+LGDjMyv09iAAAAAElFTkSuQmCC" id="sidebar-logo" class="rounded" alt="Logo" style="max-width: 100px;">
                    <textarea id="logo-text" class="d-none"></textarea>
                </label>
                <div id="sidebar-title" class="h4"></div>
                <hr>
                <ul id="sidebar" class="nav d-block">
                    <li class="nav-item">
                        <a class="nav-link text-warning fw-bold active" href="javascript:void(0)" data-tab="start">
                            البداية
                        </a> 
                    </li>
                </ul>
                <button type="button" class="btn btn-light btn-sm rounded-pill w-100 mt-3" onclick="addSection()">
                    اضافة قسم
                    <i class="bi bi-plus-circle"></i>
                </button>
            </div>
        </div>
        <div id="main-content" class="col">
            <nav class="navbar navbar-expand navbar-dark bg-dark sticky-top">
                <div class="collapse navbar-collapse">
                    <ul class="navbar-nav">
                        <li class="nav-item dropdown">
                            <a class="nav-link" href="#" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                                الملف
                            </a>
                            <ul class="dropdown-menu">
                                <i class="bi bi-caret-up-fill position-absolute bottom-100 start-0 ms-3 text-light d-flex"></i>
                                <li>
                                    <a class="dropdown-item small" href="#" onclick="newProject()">
                                        مشروع جديد
                                        <i class="bi bi-plus-square float-end"></i>
                                    </a>
                                </li>
                                <li class="dropdown-divider"></li>
                                <li>
                                    <a class="dropdown-item small" href="#" onclick="importProject()">
                                        استيراد
                                        <i class="bi bi-folder-check float-end"></i>
                                    </a>
                                </li>
                                <li class="dropdown-divider"></li>
                                <li>
                                    <a class="dropdown-item small" href="#" onclick="exportProject()">
                                        تصدير
                                        <i class="bi bi-folder-symlink float-end"></i>
                                    </a>
                                </li>
                                <li class="dropdown-divider"></li>
                                <li>
                                    <a class="dropdown-item small" href="#" onclick="buildProject()">
                                        بناء                                        <i class="bi bi-columns-gap float-end"></i>
                                    </a>
                                </li>
                            </ul>
                        </li>
                    </ul>
                </div>      
                <div class="collapse navbar-collapse">
                    <ul class="navbar-nav ms-auto">
                        <li class="nav-item">
                            <a class="nav-link" href="http://ufly.cc/paydon" target="_blank">
                                دعم المطور
                                <i class="bi bi-paypal"></i>
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="javascript:void(0)">
                                Dalil+ 1.0
                            </a>
                        </li>
                    </ul>                            
                </div>            
            </nav>
            <div id="content-tabs" class="p-2">
                <div class="content-tab" data-tab="start">
                    <div class="input-group mb-2">
                        <div class="input-group-text">
                            <i class="bi bi-tag me-1"></i>
                            العنوان
                        </div>
                        <input id="project-title" class="form-control" placeholder="عنوان المشروع">
                    </div>
                    <div class="input-group mb-2">
                        <div class="input-group-text">
                            <i class="bi bi-info-circle me-1"></i>
                            النسخة
                        </div>
                        <input id="project-version" class="form-control" placeholder="1.0.0">
                    </div>
                    <div class="input-group mb-2">
                        <div class="input-group-text">
                            <i class="bi bi-person me-1"></i>
                            بواسطة
                        </div>
                        <input id="project-author" class="form-control" placeholder="صاحب العمل">
                    </div>
                    <div class="input-group mb-2">
                        <div class="input-group-text">
                            <i class="bi bi-envelope me-1"></i>
                            الايميل
                        </div>
                        <input id="project-author-email" class="form-control" placeholder="mail@example.com">
                    </div>
                    <div class="input-group mb-2">
                        <div class="input-group-text">
                            <i class="bi bi-globe me-1"></i>
                            الموقع
                        </div>
                        <input id="project-website" class="form-control" placeholder="https://example.com">
                    </div>
                    <div class="input-group mb-2">
                        <div class="input-group-text">
                            <i class="bi bi-calendar2-week me-1"></i>
                            التاريخ
                        </div>
                        <input id="project-date" class="form-control" placeholder="01/01/2025">                    
                    </div>
                    <div class="input-group mb-2">
                        <div class="input-group-text">
                            <i class="bi bi-pen me-1"></i>
                            التحديث
                        </div>
                        <input id="project-update-date" class="form-control" placeholder="01/01/2025">
                    </div>
                    <div>
                        <textarea id="project-description" class="form-control" rows="3" placeholder="الوصف: اكتب وصف المشروع الخاص بك هنا"></textarea>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <script src="assets/bootstrap/js/bootstrap.bundle.min.js"></script>
    <script src="assets/sweetalert2/sweetalert2.js"></script>
    <script src="assets/tinymce/tinymce.min.js"></script>
    <script>
        const Toast = Swal.mixin({
            toast: true,
            position: "top",
            showConfirmButton: false,
            showCloseButton: true,
            timer: 1000,
            timerProgressBar: true,
            didOpen: (toast) => {
            toast.onmouseenter = Swal.stopTimer;
            toast.onmouseleave = Swal.resumeTimer;
            }
        });

        function random_id() {
            return Math.random().toString(36).substring(2, 15);
        }

        function addSection(title="", content="", loded=false) {
            let tab_id = random_id();
            let tab_title = title ? title : 'قسم بدون اسم';
            let tab_content = content ? content : '';
            jQuery('#content-tabs').append(`<div class="content-tab" data-tab="${tab_id}">
                <div class="d-flex mb-3">
                    <button type="button" class="btn btn-danger btn-sm" onclick="deleteSection('${tab_id}')"><i class="bi bi-trash"></i></button>
                    <input class="content-title form-control ms-1" id="title-${tab_id}" data-tab="${tab_id}" value="${tab_title}" required>
                </div>
                <textarea class="editor" id="editor-${tab_id}" data-tab="${tab_id}">${tab_content}</textarea>
            </div>`);
            jQuery('#sidebar').append(`<li class="nav-item">
                <a class="nav-link text-white" href="javascript:void(0)" data-tab="${tab_id}">
                    ${tab_title}
                </a>
            </li>`);
            if(loded){
                jQuery('#sidebar .nav-link[data-tab="start"]').click();
            }else{
                jQuery(`#sidebar .nav-link[data-tab="${tab_id}"]`).click();
            }
            init_tinymce(`#editor-${tab_id}`);
        }

        function deleteSection(tab_id){    
            Swal.fire({
                title: 'هل تريد حذف هذا القسم؟',
                icon: 'warning',
                showCancelButton: true,
                confirmButtonColor: '#212529',
                confirmButtonText: 'نعم',
                cancelButtonColor: '#6c757d',
                cancelButtonText: 'لا'
            }).then((result) => {
                if (result.isConfirmed) {
                    jQuery(`#sidebar .nav-link[data-tab="${tab_id}"]`).parent().remove();
                    jQuery(`.content-tab[data-tab="${tab_id}"]`).remove();
                    jQuery(`#sidebar .nav-link[data-tab="start"]`).click();
                    Toast.fire({
                        icon: "success",
                        title: "تم الحذف!"
                    });
                }
            });
        }

        function newProject() {
            Swal.fire({
                title: 'انشاء مشروع جديد',
                text: 'سيتم فقدان كل المحتوى الذي لم يتم حفظه',
                icon: 'warning',
                showCancelButton: true,
                confirmButtonColor: '#212529',
                confirmButtonText: 'نعم',
                cancelButtonColor: '#6c757d',
                cancelButtonText: 'لا'
            }).then((result) => {
                if (result.isConfirmed) {
                    location.reload();
                }
            });
        }

        function generateProject(){
            let data = {};
            let contents = [];
            jQuery('#sidebar .nav-link').not('[data-tab="start"]').each(function () {
                let tab_id = jQuery(this).attr('data-tab');
                let title = jQuery(`.content-title[data-tab="${tab_id}"]`).val();
                let contect = jQuery(`#editor-${tab_id}`).val();
                contents.push({
                    'title': title,
                    'content': contect,
                });
            });
            data['title'] = jQuery('#project-title').val();
            data['description'] = jQuery('#project-description').val();
            data['version'] = jQuery('#project-version').val();
            data['project_author'] = jQuery('#project-author').val();
            data['project_author_email'] = jQuery('#project-author-email').val();
            data['project_website'] = jQuery('#project-website').val();
            data['date'] = jQuery('#project-date').val();
            data['update_date'] = jQuery('#project-update-date').val();
            data['logo'] = jQuery('#logo-text').val();
            data['content'] = contents;
            return data;
        }

        function exportProject(){
            let data = generateProject();
            if(data){
                let json = JSON.stringify(data);
                Swal.fire({
                    title: 'تصدير',
                    html: `<textarea class="form-control" id="project-data-export" rows="10" readonly>${json}</textarea>`,
                    confirmButtonColor: '#212529',
                    confirmButtonText: 'اغلاق',
                });
            }
        }

        function importProject(){
            Swal.fire({
                title: 'استيراد',
                html: `<textarea class="form-control" id="project-data-import" rows="10" placeholder="قم بوضع كود الاسترياد هنا"></textarea>`,
                showCancelButton: true,
                confirmButtonColor: '#212529',
                confirmButtonText: 'معالجة',
                cancelButtonColor: '#6c757d',
                cancelButtonText: 'اغلاق'
            }).then((result) => {
                if (result.isConfirmed) {
                    try {
                        let data = JSON.parse(jQuery('#project-data-import').val());
                        if(!data){
                            Toast.fire({
                                icon: "error",
                                title: "تنسيق غير صالح"
                            });
                            return;
                        }
                        jQuery('#sidebar .nav-link:not([data-tab="start"]), .content-tab:not([data-tab="start"])').click();
                        jQuery('#project-title, #sidebar-title').val(data['title']).trigger('keyup');
                        jQuery('#project-description').val(data['description']);
                        jQuery('#project-version').val(data['version']);
                        jQuery('#project-author').val(data['project_author']);
                        jQuery('#project-author-email').val(data['project_author_email']);
                        jQuery('project-website').val(data['project_website']);
                        jQuery('#project-date').val(data['date']);
                        jQuery('#project-update-date').val(data['update_date']);
                        jQuery('#sidebar-logo').attr('src', data['logo']);
                        jQuery('#logo-text').val(data['logo']);
                        if(data['content']){
                            data['content'].forEach(element => {
                                addSection(element['title'], element['content'], true);
                            });
                        }
                        Toast.fire({
                            icon: "success",
                            title: "تم الاستيراد بنجاح"
                        });
                    } catch (error) {
                        Toast.fire({
                            icon: "error",
                            title: "تنسيق غير صالح"
                        });
                        return;
                    }
                }
            });
        }

        function buildProject(){
            let data = generateProject();
            if(data){
                window.chrome.webview.postMessage(JSON.stringify({type: 'buildProject', data: data}));
            }
        }

        function init_tinymce(selector){
            tinymce.init({
                branding: false,
                toolbar_mode: 'floating',
                menubar: false,
                selector: selector,
                height: '86vh',
                relative_urls: false,
                plugins: 'autolink link image lists preview visualblocks fullscreen paste wordcount emoticons image',
                toolbar: 'undo redo | formatselect fontsizeselect | bold italic underline strikethrough blockquote | alignleft aligncenter alignright alignjustify | numlist bullist | forecolor backcolor removeformat | image visualblocks fullscreen preview',
                paste_data_images: true,

                setup: function (editor) {
                    editor.on('change', function () {
                        tinymce.triggerSave();
                    });
                },
            
                images_upload_handler: function (blobInfo, success, failure) {
                    const reader = new FileReader();
                    reader.readAsDataURL(blobInfo.blob());

                    reader.onload = function () {
                        const base64 = reader.result;
                        success(base64);
                    };

                    reader.onerror = function () {
                        failure('فشل تحميل الصورة');
                    };
                },
                image_advtab: true,
                directionality: 'rtl',
                language: 'ar',
            });
        }

    </script>
    <script>
        jQuery('body').on('click', '#sidebar .nav-link', function () {   
            let tab_id = jQuery(this).attr('data-tab');
            jQuery('#sidebar .nav-link').removeClass('text-warning fw-bold active').addClass('text-white');
            jQuery(this).addClass('text-warning fw-bold active').removeClass('text-white');
            jQuery('.content-tab').hide();
            jQuery(`.content-tab[data-tab="${tab_id}"]`).show();
        });
        jQuery('body').on('keyup', '#project-title', function () {   
            jQuery('#sidebar-title').text(jQuery(this).val());
        });
        jQuery('body').on('keyup', '.content-title', function () {   
            let tab_id = jQuery(this).attr('data-tab');
            jQuery(`#sidebar .nav-link[data-tab="${tab_id}"]`).html(jQuery(this).val());
        });
        jQuery('body').on('change', '.content-title', function () {   
            if(!jQuery(this).val()){
                jQuery(this).val(`قسم بدون اسم`).trigger('keyup');
            }
        });
        jQuery('body').on('click', '#project-data-export', function (e) {   
            e.target.select();
            document.execCommand('copy');
        });

        const logoChoiser = document.getElementById('logo-choiser');
        const sidebarLogo = document.getElementById('sidebar-logo');
        const logoText = document.getElementById('logo-text');

        logoChoiser.addEventListener('change', function(event) {
            const file = event.target.files[0];
            if (file) {
                const reader = new FileReader();
                reader.onloadend = function() {
                    const base64Data = reader.result;
                    sidebarLogo.src = base64Data;
                    logoText.value = base64Data;
                };
                reader.readAsDataURL(file);
            }else{
                sidebarLogo.src = 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAXUAAABgCAMAAADVTxJmAAAAAXNSR0IB2cksfwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAv1QTFRFAAAA////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////htTccAAAAP90Uk5TAAwVHygxOj00KyIZDw4WHiYuNj4wJRsQDSkyOzMqIRgTRnep2v7/7LqJWAFFcZzF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';
                logoText.value = '';
            }
        });


        document.onkeydown = function (e) {
            let code = e.keyCode ? e.keyCode : e.which;
            if (code === 116) {
                e.preventDefault();
            }
        }
    </script>
</body>
</html>